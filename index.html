<!doctype html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>IaC</title>
<link href="css/singlePageTemplate.css" rel="stylesheet" type="text/css">
<!--The following script tag downloads a font from the Adobe Edge Web Fonts server for use within the web page. We recommend that you do not modify it.-->
<script>var __adobewebfontsappname__="dreamweaver"</script>
<script src="http://use.edgefonts.net/source-sans-pro:n2:default.js" type="text/javascript"></script>
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->


<!-- Terence Scripting -->
<script type="text/javascript">

        // Wait till page loads
	
	
        window.onload = function() {

        // define global variables to be used to creat api calls to AWS API Gateway  	
          	var micro = document.getElementById("microVM");
			var small = document.getElementById("smallVM");
			var medium = document.getElementById("mediumVM");
			var large = document.getElementById("largeVM");
			var deletevm = document.getElementById("vmDelete");
			var apiCall;
          
			
			//create dynamic links based on the VM clicked

			micro.onclick = function() 
		  		{
			
			 		var apiBase = "https://3b5dygu2k2.execute-api.us-west-2.amazonaws.com/run/vminfo?" ;
					var apiCmd = "name=MicroVM&type=micro";
					apiCall = apiBase + apiCmd;	
					document.getElementById('microVM').href = apiCall;
			
				}		
			small.onclick = function() 
		  		{
			
			 		var apiBase = "https://3b5dygu2k2.execute-api.us-west-2.amazonaws.com/run/vminfo?" ;
					var apiCmd = "name=SmallVM&type=small";
					apiCall = apiBase + apiCmd;	
					document.getElementById('smallVM').href = apiCall;
			
				}	
			medium.onclick = function() 
		  		{
			
			 		var apiBase = "https://3b5dygu2k2.execute-api.us-west-2.amazonaws.com/run/vminfo?" ;
					var apiCmd = "name=MediumVM&type=medium";
					apiCall = apiBase + apiCmd;	
					document.getElementById('mediumVM').href = apiCall;
			
				}	
			large.onclick = function() 
		  		{
			
			 		var apiBase = "https://3b5dygu2k2.execute-api.us-west-2.amazonaws.com/run/vminfo?" ;
					var apiCmd = "name=LargeVM&type=large";
					apiCall = apiBase + apiCmd;	
					document.getElementById('largeVM').href = apiCall;
			
				}	
			deletevm.onclick = function() 
		  		{
			
			 		var apiBase = "https://3b5dygu2k2.execute-api.us-west-2.amazonaws.com/run/vminfo?" ;
					var apiCmd = "name=delete&type=delete";
					apiCall = apiBase + apiCmd;	
					document.getElementById('vmDelete').href = apiCall;
			
				}		
		  
        }
		
    </script>
	<!--// END JS scripting -->
	
	
</head>
<body>
<!-- Main Container -->
<div class="container"> 
  <!-- Navigation -->
  <header> <a href="index.html">
    <h4 class="logo">WildWest</h4>
  </a>
    <nav>
      <ul>
        <li><a href="index.html">Create</a><a href="#hero"> VMs</a></li>
        <!--<li><a href="CurrentVMs.html">Current</a><a href="#about"> VMs</a></li> -->
      </ul>
    </nav>
  </header>
  <!-- Hero Section -->
  <section class="hero" id="hero">
    <h2 class="hero_header">InfraStructure_as: <span class="light">Code</span></h2>
    
  </section>
  <!-- About Section -->
  <section class="about" id="about">
    <h2 class="hidden">About</h2>
    <p class="text_column">This is just a quick inteface to illsutrate spinning up a few VMs in AWS using API calls and hosted webserver. 
	 <br><br>
		There is a strict limit of 1 VM per type to avoid excessive cost; this is a public facing site. Please detroy VMs when leaving.
		<br><br>Thank you :)
	</p>
	  <p class="text_column">Mechanics behind this page: <br><br>This page is hosted on an EC2 instance in AWS Oregon. Selcecting one of the VM types makes an API call to AWS API Gateway, which in turn, triggers a Lambda function in AWS. Based on the command forwaded in the API call, the Lambda funciton creates resource-files in an S3 Bucket: iac-bucket. 
	  </p>
	  <p class="text_column">This webserver runs a <i>chrontab</i> job to pull updates from the iac-bucket. It then reasembles these files into 
		  a Terraform Plan and exicutes that plan. Each VM created displays its own webpage advertising its type.<br><br>
		  Lastly, I am by no means a web developer, and I made this on a plane. Hopefully it displays well enough in most browsers. 
		  
	  </p>
	  
    <p class="text_column">&nbsp;</p>
  </section>
  <!-- Stats Gallery Section -->
  
  
  <div class="teraForm">lets try terraforming</div>

	
  <div class="gallery">
	  
	<a id="microVM" href="#" target="_blank">  
    <div class="thumbnail">

      <h1 class="stats">Micro</h1>
      <h4>Linux AMI + Apache</h4>
      <p>1 CPU, 1GB RAM, 8GB SSD</p>
	
    </div>
	</a>  
	
	<a id="smallVM" href="#" target="_blank">  
	<div class="thumbnail">
      <h1 class="stats">Small</h1>
      <h4>Linux AMI + Apache</h4>
      <p>1 CPU, 2GB RAM, 8GB SSD</p>
    </div>
    </a>
	  
	  <a id="mediumVM" href="#" target="_blank">  
    <div class="thumbnail">
      <h1 class="stats">Medium</h1>
      <h4>Linux AMI + Apache</h4>
      <p>2 CPU, 4GB RAM, 8GB SSD</p>
    </div>
	  </a>
	  
	  <a id="largeVM" href="#" target="_blank">  
    <div class="thumbnail">
      <h1 class="stats">Large</h1>
      <h4>Linux AMI + Apache</h4>
      <p>2 CPU, 8GB RAM, 8GB SSD</p>
    </div>
	  </a>
		  
  </div>
	
	
	<div class="teraForm"><a id="vmDelete" href="#" target="_blank">Delete all VMs</a></div>
	
<!-- Parallax Section -->
  <!-- More Info Section -->
  <footer>
    <article class="footer_column"> </article>
    <article class="footer_column"> </article>
  </footer>
  <!-- Footer Section -->
  <!-- Copyrights Section -->
  
  <div class="copyright">&copy;2018 - <strong>IaC</strong></div>
</div>
<!-- Main Container Ends -->
</body>
</html>
